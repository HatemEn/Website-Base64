<html>
    <head>
        <title>Base64</title>
        <link rel="stylesheet" href="./include/bootstrap.css">
    </head>
    <body>
        <br>
        <div class="container card">
            <h3 align="center"><b>Convert Text To Base64 And Vise Vars</b></h3>
            <hr>
            <table style="width: 100%;">
                <tr>
                    <td>
                        <textarea name="textInput" id="textInput" cols="30" rows="5"
                              class="form-control" placeholder="Type text or base64"></textarea>
                    </td>
                </tr>
                <tr>
                    <td align="right"><span id="inputCharts"></span></td>
                </tr>
                <tr>
                    <td align="center">
                       <div class="btn-group">
                           <button type="button" onclick="covertToBase64()" class="btn btn-primary">Encode To Base64</button>
                           <button type="button" class="btn btn-secondary" onclick="covertToText()">Decode To Text</button>
                       </div>
                    </td>
                </tr>
                <tr>
                    <td>
                        <hr>
                        <textarea name="textOutput" id="textOutput" cols="30" rows="5"
                                  class="form-control" placeholder="Output"></textarea>
                    </td>
                </tr>
                <tr>
                    <td align="right"><span id="outputCharts"></span></td>
                </tr>
            </table>
        </div>

        <script>
            function covertToBase64() {
                var input = document.getElementById('textInput').value;
                var output = document.getElementById('textOutput');
                var textUTF8 = unescape( encodeURIComponent(input));
                var encoded = btoa(textUTF8);
                output.value = encoded;

                ////////////////////////
                var inputCharts = document.getElementById('inputCharts');
                var outputCharts = document.getElementById('outputCharts');
                inputCharts.innerHTML = 'Charts: '+input.length;
                outputCharts.innerHTML = 'Charts: '+encoded.length;
            }
            function covertToText() {
                var input   = document.getElementById('textInput').value;
                var output  = document.getElementById('textOutput');
                var decoded = atob(input);
                var text    = decodeURIComponent( escape(decoded) );
                output.value = text;
                //////////////////////////
                ////////////////////////
                var inputCharts = document.getElementById('inputCharts');
                var outputCharts = document.getElementById('outputCharts');
                inputCharts.innerHTML = 'Charts: '+input.length;
                outputCharts.innerHTML = 'Charts: '+text.length;
            }
        </script>
    </body>
</html>